jdk:
  - openjdk17

before_install:
  - chmod +x ./gradlew
  - ./gradlew clean

install:
  - ./gradlew -x test build

before_script:
  - ./gradlew clean

script:
  - ./gradlew publishToMavenLocal

# Clear Gradle cache to avoid lint-model issues
after_script:
  - rm -rf ~/.gradle/caches/

# Environment variables for better compatibility
env:
  - JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64